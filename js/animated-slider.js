!function(t,e,i,s){var n="AnimatedSlider",o={infiniteScroll:!0,visibleItems:3,changedCallback:null,willChangeCallback:null,userChangedCallback:null,useTransitions:!0},r=function(){var t=(i.body||i.documentElement).style,e="transition";if("string"==typeof t[e])return!0;v=["Moz","Webkit","Khtml","O","ms"],e=e.charAt(0).toUpperCase()+e.substr(1);for(var s=0;s<v.length;s++)if("string"==typeof t[v[s]+e])return!0;return!1}();function a(e,i){this.element=e,this.jqElem=t(e),this.items=t(this.element).children("li"),this.numSliderItems=this.items.length,this.currentItem=1,this.commandQueue=[],this.jqElem.data(n,this),this.options=t.extend({},o,i),this._defaults=o,this._name=n,this.inTransition=!1,this.init()}a.prototype.init=function(){var e=this;e.options.useTransitions?this.jqElem.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",(function(){e.inTransition&&(e.inTransition=!1,e.options.changedCallback&&e.options.changedCallback(e,e.currentItem),setTimeout((function(){e.doCommandQueue()}),50))})):(this.items.css("transition","none"),this.items.find("*").css("transition","none")),this.options.prevButton&&t(this.options.prevButton).on("click",(function(t){t.preventDefault(),e.prevItem()})),this.options.nextButton&&t(this.options.nextButton).on("click",(function(t){t.preventDefault(),e.nextItem()})),this.setItem(1),this.inTransition=!1},a.prototype.setItem=function(t){var e=this.items;e.removeClass();this.options.infiniteScroll&&this._wrapIndex;for(var i=0;i<e.length;i++){var s=e.eq(i);i==t?s.addClass("current_item"):i<t?s.addClass("previous_hidden"):i>t&&s.addClass("next_hidden")}this.options.infiniteScroll?(e.eq(this._wrapIndex(t-1)).removeClass().addClass("previous_item"),e.eq(this._wrapIndex(t+1)).removeClass().addClass("next_item"),3==this.options.visibleItems?(e.eq(this._wrapIndex(t-2)).removeClass().addClass("previous_hidden"),e.eq(this._wrapIndex(t+2)).removeClass().addClass("next_hidden")):5==this.options.visibleItems&&(e.eq(this._wrapIndex(t-2)).removeClass().addClass("previous_item_2"),e.eq(this._wrapIndex(t+2)).removeClass().addClass("next_item_2"),e.eq(this._wrapIndex(t-3)).removeClass().addClass("previous_hidden"),e.eq(this._wrapIndex(t+3)).removeClass().addClass("next_hidden"))):(t-1>=0&&e.eq(t-1).removeClass().addClass("previous_item"),t+1<this.numSliderItems&&e.eq(t+1).removeClass().addClass("next_item"),5==this.options.visibleItems&&(t-2>=0&&e.eq(t-1).removeClass().addClass("previous_item_2"),t+2<this.numSliderItems&&e.eq(t+1).removeClass().addClass("next_item_2"))),currentItem=t,r&&this.options.useTransitions?(this.inTransition=!0,this.options.willChangeCallback&&this.options.willChangeCallback(this,this.currentItem)):(this.options.willChangeCallback&&this.options.willChangeCallback(this,this.currentItem),this.options.changedCallback&&this.options.changedCallback(this,this.currentItem))},a.prototype.nextItem=function(){this.inTransition?this.commandQueue.length<3&&this.commandQueue.push("nextItem"):(this.options.infiniteScroll||this.currentItem<this.numSliderItems-1)&&(this.currentItem+=1,this.currentItem=this._wrapIndex(this.currentItem),this.setItem(this.currentItem),this.options.userChangedCallback&&this.options.userChangedCallback(this,this.currentItem))},a.prototype.prevItem=function(){this.inTransition?this.commandQueue.length<3&&this.commandQueue.push("prevItem"):(this.options.infiniteScroll||this.currentItem>=1)&&(this.currentItem-=1,this.currentItem=this._wrapIndex(this.currentItem),this.setItem(this.currentItem),this.options.userChangedCallback&&this.options.userChangedCallback(this,this.currentItem))},a.prototype.clearAnimations=function(){this.inTransition=!1,this.commandQueue=[]},a.prototype.doCommandQueue=function(){0!=this.commandQueue.length&&this[this.commandQueue.splice(0,1)[0]]()},a.prototype.refresh=function(){this.items=t(this.element).children("li"),this.numSliderItems=this.items.length,this.setItem(this.currentItem),clearAnimations()},a.prototype._wrapIndex=function(t){return t<0&&(t+=this.numSliderItems),t>=this.numSliderItems&&(t-=this.numSliderItems),t},t.fn[n]=function(e){return this.each((function(){t.data(this,"plugin_"+n)||t.data(this,"plugin_"+n,new a(this,e))}))}}(jQuery,window,document);